trigger: 
  - main

pool:
  name: Jasus

stages:
  - stage: planning
    displayName: planning
    jobs:
      - job: terraform
        displayName: terraform installer
        steps:
          - task: TerraformInstaller@1
            inputs:
              terraformVersion: latest 
          - task: TerraformTask@5
            displayName: Terraform Init
            inputs:
              provider: 'azurerm'
              command: init
              backendAzureRmUseEntraIdForAuthentication: false
              backendServiceArm: 'newpipeline'
              backendAzureRmOverrideSubscriptionID: 'c69268aa-c88b-494c-aa80-775984104d2a'
              backendAzureRmResourceGroupName: 'rg-gunjan-cicd'
              backendAzureRmStorageAccountName: 'xyzabcdefgh'
              backendAzureRmContainerName: 'raman'
              backendAzureRmKey: 'brijesh.tfstate'

          - task: TerraformTask@5
            displayName: terraform Validate
            inputs:
              provider: 'azurerm'
              command: validate

            
               






